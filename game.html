<!DOCTYPE html>
<html lang="cs">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Záhada Vytesané Tváře</title>
	<!-- Načtení Font Awesome pro ikony -->
	<link rel="stylesheet" href="style.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
	<style>
		/* Nový Gotický/Viktoriánský Font */
		@import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&display=swap');
	</style>
</head>

<body>

	<div class="game-container">
		<h1>Záhada Vytesané Tváře</h1>
		<div id="viewport">
			<div class="loading-overlay" id="loading-overlay">Čekání na osud...</div>
			<div class="direction-label" id="direction-label"></div>
			<div class="pohled-label" id="pohled-label"></div>
			<div class="area-label" id="area-label"></div>
		</div>

		<div class="controls-row">
			<button class="control-button" id="turn-left" onclick="turnLeft()">
				<i class="fas fa-hand-point-left"></i> Otočit se vlevo
			</button>
			<button class="control-button" id="move-forward" onclick="moveForward()">
				<i class="fas fa-feather-alt"></i> Vpřed
			</button>
			<button class="control-button" id="turn-right" onclick="turnRight()">
				Otočit se vpravo <i class="fas fa-hand-point-right"></i>
			</button>
		</div>
		<p class="instruction-text">Prozkoumej okolí a hledej stopy. Zde je tvůj inventář:</p>

		<!-- Nový Inventář UI -->
		<div id="inventory-display">
			<!-- Sem se dynamicky přidávají předměty -->
		</div>

	</div>

	<!-- Modaly -->
	<div class="modal-backdrop" id="text-modal-backdrop">
		<div id="item-popup" class="popup-window">
			<p id="popup-text"></p>
			<button class="control-button" id="close-popup" onclick="hidePopup('text-modal-backdrop')">Zavřít</button>
		</div>
	</div>

	<div class="modal-backdrop" id="puzzle-modal-backdrop">
		<div id="input-puzzle-modal" class="popup-window">
			<h2>Hádanka</h2>
			<p>Po vložení klíče do dírky se v kamenném erbu objevily 4 klávesnice. Musím pomocí nich napsat správné symboly.</p>
			<div class="puzzle-input-group">
				<label for="symbol1">Symbol 1 (Hrob pod Štandlem):</label>
				<input type="text" id="symbol1" maxlength="5">

				<label for="symbol2">Symbol 2 (Místecká Kašna):</label>
				<input type="text" id="symbol2" maxlength="5">

				<label for="symbol3">Symbol 3 (Kostel Sv. Jošta):</label>
				<input type="text" id="symbol3" maxlength="4">

				<label for="symbol4">Symbol 4 (Frýdecký Zámek):</label>
				<input type="text" id="symbol4" maxlength="6">
			</div>
			<button id="solve-puzzle-button" onclick="solvePuzzle()">Odemknout</button>
            <button class="control-button" id="close-popup" onclick="hidePopup('puzzle-modal-backdrop')">Zavřít</button>
		</div>
	</div>
	<!-- Konec Modalů -->

	<div id="lightbox-backdrop" class="modal-backdrop" style="display: none;">
		<div class="modal-content-wide" onclick="hidePopup('lightbox-backdrop')">
			<img id="lightbox-image" src="" alt="Mapa v plném rozlišení" style="max-width: 90vw; max-height: 90vh;">
			<span class="close-button" style="top: 10px; right: 20px;">&times;</span>
		</div>
	</div>

	<script src="game.js"></script>
	
</body>

</html>